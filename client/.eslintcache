[{"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\index.js":"1","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\serviceWorker.js":"2","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\App.js":"3","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\pages\\Home.js":"4","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\pages\\OrderHistory.js":"5","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\pages\\Routes.js":"6","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\pages\\NoMatch.js":"7","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\pages\\Success.js":"8","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\store.js":"9","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\components\\Nav\\index.js":"10","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\mutations.js":"11","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\queries.js":"12","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\helpers.js":"13","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\reducers.js":"14","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\components\\Jumbotron\\index.js":"15","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\auth.js":"16","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\components\\Wallet\\index.js":"17","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\components\\ProductList\\index.js":"18","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\actions.js":"19"},{"size":501,"mtime":1610426988428,"results":"20","hashOfConfig":"21"},{"size":5080,"mtime":1610596664154,"results":"22","hashOfConfig":"21"},{"size":1424,"mtime":1610779240503,"results":"23","hashOfConfig":"21"},{"size":262,"mtime":1610779240522,"results":"24","hashOfConfig":"21"},{"size":1493,"mtime":1610426988437,"results":"25","hashOfConfig":"21"},{"size":2117,"mtime":1610776319995,"results":"26","hashOfConfig":"21"},{"size":371,"mtime":1610426988435,"results":"27","hashOfConfig":"21"},{"size":1310,"mtime":1610779240524,"results":"28","hashOfConfig":"21"},{"size":109,"mtime":1610753874451,"results":"29","hashOfConfig":"21"},{"size":1328,"mtime":1610779240509,"results":"30","hashOfConfig":"21"},{"size":773,"mtime":1610426988457,"results":"31","hashOfConfig":"21"},{"size":824,"mtime":1610776302989,"results":"32","hashOfConfig":"21"},{"size":2202,"mtime":1610779240529,"results":"33","hashOfConfig":"21"},{"size":1991,"mtime":1610780035814,"results":"34","hashOfConfig":"21"},{"size":234,"mtime":1610595494755,"results":"35","hashOfConfig":"21"},{"size":1015,"mtime":1610426988453,"results":"36","hashOfConfig":"21"},{"size":3279,"mtime":1610779909726,"results":"37","hashOfConfig":"21"},{"size":1677,"mtime":1610779240519,"results":"38","hashOfConfig":"21"},{"size":369,"mtime":1610779943659,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"7at596",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"73","messages":"74","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\index.js",[],["80","81"],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\serviceWorker.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\App.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\pages\\Home.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\pages\\OrderHistory.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\pages\\Routes.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\pages\\NoMatch.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\pages\\Success.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\store.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\components\\Nav\\index.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\mutations.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\queries.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\helpers.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\reducers.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\components\\Jumbotron\\index.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\auth.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\components\\Wallet\\index.js",["82"],"import React, { useEffect } from 'react';\nimport Auth from '../../utils/auth';\n\nimport { TOGGLE_WALLET, ADD_MULTIPLE_TO_WALLET } from \"../../utils/actions\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport { QUERY_CHECKOUT } from '../../utils/queries';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport './style.css';\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst stripePromise = loadStripe('pk_test_TYooMQauvdEDq54NiTphI7jx');\n\nconst Wallet = () => {\n    const state = useSelector(state => state);\n    const dispatch = useDispatch();\n    const [getCheckout, { data }] = useLazyQuery(QUERY_CHECKOUT);\n    \n    useEffect(() => {\n        if (data) {\n          stripePromise.then((res) => {\n            res.redirectToCheckout({ sessionId: data.checkout.session });\n          });\n        }\n      }, [data]);\n\n    useEffect(() => {\n        async function getWallet() {\n            const wallet = await idbPromise('wallet', 'get');\n            dispatch({ type: ADD_MULTIPLE_TO_WALLET, products: [...wallet] });\n        };\n\n        if (!state.wallet.length) {\n            getWallet();\n        }\n    }, [state.wallet.length, dispatch]);\n\n    function toggleWallet() {\n        dispatch({ type: TOGGLE_WALLET });\n    }\n\n    function calculateTotal() {\n        let sum = 0;\n        state.wallet.forEach(item => {\n            sum += item.price * item.purchaseQuantity;\n        });\n        return sum.toFixed(2);\n    }\n\n    function submitCheckout() {\n        const productIds = [];\n        getCheckout({\n            variables: { products: productIds }\n        });\n        state.wallet.forEach((item) => {\n            for (let i = 0; i < item.purchaseQuantity; i++) {\n                productIds.push(item._id);\n            }\n        });\n    }\n\n    if (!state.walletOpen) {\n        return (\n            <div className=\"wallet-closed\" onClick={toggleWallet}>\n                <span\n                    role=\"img\"\n                    aria-label=\"trash\">ðŸ›’</span>\n            </div>\n        );\n    }\n    return (\n        <div className=\"wallet\">\n            <div className=\"close\" onClick={toggleWallet}>[close]</div>\n            <h2>Shopping Wallet</h2>\n            {state.wallet.length ? (\n                <div>\n                    {state.wallet.map(item => (\n                        <WalletItem key={item._id} item={item} />\n                    ))}\n                    <div className=\"flex-row space-between\">\n                        <strong>Total: ${calculateTotal()}</strong>\n                        {\n                            Auth.loggedIn() ?\n                                <button onClick={submitCheckout}>\n                                    Checkout\n                          </button>\n                                :\n                                <span>(log in to check out)</span>\n                        }\n                    </div>\n                </div>\n            ) : (\n                    <h3>\n                        <span role=\"img\" aria-label=\"shocked\">\n                            ðŸ˜±\n                        </span>\n                        You haven't added anything to your wallet yet!\n                    </h3>\n                )}\n        </div>\n\n    );\n};\n\nexport default Wallet;","C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\components\\ProductList\\index.js",[],"C:\\Users\\Rheine\\Documents\\GitHub\\transferCard\\client\\src\\utils\\actions.js",[],{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","severity":2,"message":"88","line":78,"column":26,"nodeType":"89","endLine":78,"endColumn":36},"no-native-reassign",["90"],"no-negated-in-lhs",["91"],"react/jsx-no-undef","'WalletItem' is not defined.","JSXIdentifier","no-global-assign","no-unsafe-negation"]